## Solverの詳細設定（細かな調整が必要な方向け）
本ページは、おもに解析したアニメーション出力結果を更に細かく調整したい方向けのページになります。  
必要に応じて、各種設定を自由にカスタマイズすることが可能です。  

さらに詳細な検証や内容は[こちら](https://zukunfcs.github.io/fcs-doc-advanced/latest/jp/index.html#)。

### Solverの画面説明

```{figure} images/Sol001.jpg
:width: 80%
:align: center
```


▼Global：解析時の設定を変更できます。
- ☑ Fisheye：チェックを入れると、魚眼レンズで撮影された動画を解析する仕様に最適化される
```{note}
デフォルト設定ではチェックが入っているため、広角レンズで撮影された動画を解析する際はチェックを外してください。
```

- Smoothing：アニメーション出力時にスムージング処理をかける設定を変更できます。各Regionごとに個別に変更可能です。  
  - Smoothing：スムージング処理の有無（基本的には有りを推奨）
  - Weight：一回あたりのスムージング処理の強度  
    数値が大きいほどスムージング処理が強くかかる（アニメーションカーブが滑らかになる）
  - Reps：スムージング処理の回数  
    回数を多くするほどアニメーションカーブが滑らかになる

  - Save current smoothing profile：スムージング設定の保存
    保存したスムージング設定はボタンの下に表示されます(クリックで反映、右クリックでメニュー表示)

▼Post processing：アニメーション出力時にクランプ処理をかける設定などを変更できます。
- Prioritize profile：アニメーション出力範囲内にProfileを作成したフレームが含まれる場合、チェックを入れると解析による予測値よりもリターゲット値を優先する
- Clamp mode：クランプ処理の設定を切り替える
  - No Clamp：クランプ処理なし
  - Hard Clamp：アニメーションカーブを、Controllerウィンドウで設定した最大値 - 最小値でクランプする（クランプされた範囲のスムージング処理なし）
  - Soft Clamp：アニメーションカーブを、Controllerウィンドウで設定した最大値 - 最小値でクランプする（クランプされた範囲のスムージング処理あり）

- Train：ユーザーが変更したprofile設定を参照し、Solverを再構築します。  
  Solverは動画出力やアニメーション出力などを行う度に自動で再構築されるため、基本的には使用する必要はありません。  
- Delete cache：ユーザーが変更する前のprofile設定で構築した解析キャッシュを削除します。  
- Export：リアルタイムアニメーション用のソルバーを出力します。
